<html>
	<head>
		<title>test html</title>
		<style type="text/css">
		</style>
	</head>
	<body>
		<span style="float:left;">
			<select id='lc' multiple="multiple" style="width:120px;height:100px;">
				<option>aaa</option>
				<option>bbb</option>
				<option>ccc</option>
				<option>ddd</option>
			</select>
			<br/>
			<input type="button" value="选中添加到右边" onclick="sel2Right();"/>
			<br/>
			<input type="button" value="全部添加到右边" onclick="all2Right();"/>
		</span>
		<span>
			<select id='rc' multiple="multiple" style="width:120px;height:100px;">
				<option>qqq</option>
			</select>
			<br/>
			<input type="button" value="选中添加到左边" onclick="sel2Left();"/>
			<br/>
			<input type="button" value="全部添加到左边" onclick="all2Left();"/>
		</span>
		<script type="text/javascript">
			function sel2Right(){
				var select1 = document.getElementById("lc");
				var select2 = document.getElementById('rc');
				var ops = select1.getElementsByTagName("option");
				for(var i=0; i<ops.length; i++){
					if(ops[i].selected == true){
						select2.appendChild(ops[i]);
						i--;//根据appendChild方法的剪贴特点 知ops 具有动态的属性
					}
				}
			}
			function all2Right()
			{
				var select1 = document.getElementById("lc");
				var select2 = document.getElementById('rc');
				var ops = select1.getElementsByTagName("option");
				//for循环中每次添加后 ops 元素减一
				if(ops.length != 0){
					for(var i=0; i<ops.length; i++){
						select2.appendChild(ops[i]);
						i--;
					}
				}
				<!--出现的问题 每次调用appendChild后 ops数组中元素减一 length减一 -->
			}
			function sel2Left(){
				var select1 = document.getElementById("lc");
				var select2 = document.getElementById('rc');
				var ops = select2.getElementsByTagName("option");
				for(var i=0; i<ops.length; i++){
					if(ops[i].selected == true){
						select1.appendChild(ops[i]);
						i--;
					}
				}
			}
			function all2Left()
			{
				var select1 = document.getElementById("lc");
				var select2 = document.getElementById('rc');
				var ops = select2.getElementsByTagName("option");
				if(ops.length != 0){
					for(var i=0; i<ops.length; i++){
						select1.appendChild(ops[i]);
						i--;
					}
				}
			}
		</script>
	</body>
</html>